import{r as s,j as e,c as P}from"./client.nMGDAYsi.js";const A=({stats:i})=>{const t=o=>{const l=Date.now(),a=Math.floor((l-o)/(1e3*60));if(a<1)return"Just now";if(a<60)return`${a} min ago`;const n=Math.floor(a/60);return n<24?`${n}h ago`:`${Math.floor(n/24)}d ago`},d=o=>({Python:"#3776ab",JavaScript:"#f7df1e",Java:"#ed8b00","C++":"#00599c",Go:"#00add8",Rust:"#ce422b"})[o]||"#6b7280";return e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"12px"},children:[e.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.08)",backdropFilter:"blur(12px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.12)",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#ffffff",marginBottom:"4px"},children:i.streak}),e.jsx("div",{style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.7)"},children:"Day Streak"})]}),e.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.08)",backdropFilter:"blur(12px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.12)",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#ffffff",marginBottom:"4px"},children:i.counts.easy+i.counts.medium+i.counts.hard}),e.jsx("div",{style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.7)"},children:"Total Solved"})]})]}),e.jsx("div",{style:{display:"flex",gap:"8px"},children:[{label:"Easy",count:i.counts.easy,color:"#10b981"},{label:"Medium",count:i.counts.medium,color:"#f59e0b"},{label:"Hard",count:i.counts.hard,color:"#ef4444"}].map(({label:o,count:l,color:a})=>e.jsxs("div",{style:{flex:1,background:"rgba(255, 255, 255, 0.08)",backdropFilter:"blur(12px)",borderRadius:"10px",padding:"12px",border:"1px solid rgba(255, 255, 255, 0.12)",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"18px",fontWeight:"bold",color:a,marginBottom:"2px"},children:l}),e.jsx("div",{style:{fontSize:"11px",color:"rgba(255, 255, 255, 0.7)"},children:o})]},o))}),e.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.08)",backdropFilter:"blur(12px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.12)"},children:[e.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:"#ffffff",marginBottom:"12px"},children:"Recent Solves"}),i.recentSolves.length===0?e.jsxs("div",{style:{textAlign:"center",padding:"20px",color:"rgba(255, 255, 255, 0.6)",fontSize:"13px"},children:[e.jsx("div",{style:{marginBottom:"8px",fontSize:"20px"},children:"🎯"}),e.jsx("div",{children:"No recent solutions yet"}),e.jsx("div",{children:"Start solving problems on LeetCode!"})]}):e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:i.recentSolves.slice(0,3).map((o,l)=>e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px 12px",background:"rgba(255, 255, 255, 0.05)",borderRadius:"8px",border:"1px solid rgba(255, 255, 255, 0.08)"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"2px"},children:[e.jsx("div",{style:{fontSize:"13px",fontWeight:"500",color:"#ffffff"},children:o.title}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("span",{style:{fontSize:"10px",padding:"2px 6px",borderRadius:"4px",background:o.difficulty==="Easy"?"#10b981":o.difficulty==="Medium"?"#f59e0b":"#ef4444",color:"#ffffff",fontWeight:"500"},children:o.difficulty}),e.jsx("span",{style:{fontSize:"11px",color:"rgba(255, 255, 255, 0.7)",background:`${d(o.language)}20`,padding:"1px 4px",borderRadius:"3px"},children:o.language})]})]}),e.jsx("div",{style:{fontSize:"11px",color:"rgba(255, 255, 255, 0.5)"},children:t(o.timestamp)})]},l))})]})]})},H=({pending:i})=>{const[t,d]=s.useState(!1),[o,l]=s.useState(""),a=async()=>{d(!0),l("Syncing solutions to GitHub...");try{const n=await new Promise(p=>{chrome.runtime.sendMessage({type:"PUSH_SOLUTIONS"},p)});n.success?l(`Successfully synced ${n.count||0} solutions!`):l(`Error: ${n.error||"Unknown error occurred"}`)}catch{l("Error: Failed to sync solutions")}d(!1),setTimeout(()=>l(""),3e3)};return e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[e.jsx("button",{onClick:a,disabled:t,style:{background:t?"rgba(255, 255, 255, 0.08)":"rgba(139, 92, 246, 0.9)",color:"#ffffff",border:"none",borderRadius:"12px",padding:"16px 24px",fontSize:"14px",fontWeight:"600",cursor:t?"not-allowed":"pointer",transition:"all 0.2s ease",opacity:t?.7:1,backdropFilter:"blur(12px)",boxShadow:"0 4px 16px rgba(139, 92, 246, 0.3)"},children:t?"Syncing...":"Sync to GitHub"}),o&&e.jsx("div",{style:{background:"rgba(255, 255, 255, 0.08)",backdropFilter:"blur(12px)",borderRadius:"8px",padding:"12px",border:"1px solid rgba(255, 255, 255, 0.12)",fontSize:"13px",color:"#ffffff",textAlign:"center"},children:o}),e.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.08)",backdropFilter:"blur(12px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.12)"},children:[e.jsxs("div",{style:{fontSize:"14px",fontWeight:"600",color:"#ffffff",marginBottom:"12px"},children:["Pending Solutions (",i.length,")"]}),i.length===0?e.jsxs("div",{style:{textAlign:"center",padding:"20px",color:"rgba(255, 255, 255, 0.6)",fontSize:"13px"},children:[e.jsx("div",{style:{marginBottom:"8px",fontSize:"20px"},children:"✨"}),e.jsx("div",{children:"All caught up!"}),e.jsx("div",{children:"No pending solutions to sync"})]}):e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px",maxHeight:"200px",overflowY:"auto"},children:i.map((n,p)=>e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 12px",background:"rgba(255, 255, 255, 0.05)",borderRadius:"8px",border:"1px solid rgba(255, 255, 255, 0.08)"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"2px"},children:[e.jsx("div",{style:{fontSize:"13px",fontWeight:"500",color:"#ffffff"},children:n.title}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("span",{style:{fontSize:"10px",padding:"2px 6px",borderRadius:"4px",background:n.difficulty==="Easy"?"#10b981":n.difficulty==="Medium"?"#f59e0b":"#ef4444",color:"#ffffff",fontWeight:"500"},children:n.difficulty}),e.jsx("span",{style:{fontSize:"11px",color:"rgba(255, 255, 255, 0.7)"},children:n.language})]})]}),e.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"#f59e0b"}})]},p))})]})]})},E=({auth:i,config:t})=>{const[d,o]=s.useState(""),[l,a]=s.useState((t==null?void 0:t.owner)||""),[n,p]=s.useState((t==null?void 0:t.repo)||"leetcode-solutions"),[x,c]=s.useState((t==null?void 0:t.branch)||"main"),[f,v]=s.useState((t==null?void 0:t.private)||!1),[h,C]=s.useState((t==null?void 0:t.folderStructure)||"topic"),[k,I]=s.useState((t==null?void 0:t.includeDescription)||!0),[z,F]=s.useState((t==null?void 0:t.includeTestCases)||!1),[y,w]=s.useState(!1),[j,u]=s.useState(""),[m,R]=s.useState(!1),[S,g]=s.useState(""),B=async()=>{if(!d.trim()){u("Please enter a GitHub token");return}w(!0),u("Verifying token...");try{const r=await new Promise(b=>{chrome.runtime.sendMessage({type:"AUTH_GITHUB",data:{token:d.trim()}},b)});r.success?(u(`✓ Connected as ${r.username}`),setTimeout(()=>u(""),3e3)):u(`✗ ${r.error||"Invalid token"}`)}catch{u("✗ Failed to verify token")}w(!1)},D=async()=>{const r={owner:l.trim(),repo:n.trim(),branch:x.trim(),private:f,folderStructure:h,includeDescription:k,includeTestCases:z};if(!r.owner||!r.repo){g("✗ Repository owner and name are required");return}R(!0),g("Saving configuration...");try{const b=await new Promise(T=>{chrome.runtime.sendMessage({type:"UPDATE_CONFIG",data:r},T)});b.success?(g("✓ Configuration saved successfully"),setTimeout(()=>g(""),3e3)):g(`✗ ${b.error||"Failed to save configuration"}`)}catch{g("✗ Failed to save configuration")}R(!1)};return e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[e.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.08)",backdropFilter:"blur(12px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.12)"},children:[e.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:"#ffffff",marginBottom:"12px"},children:"GitHub Authentication"}),i!=null&&i.connected?e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px",background:"rgba(16, 185, 129, 0.15)",borderRadius:"8px",border:"1px solid rgba(16, 185, 129, 0.25)"},children:[e.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"#10b981"}}),e.jsxs("div",{style:{color:"#ffffff",fontSize:"13px"},children:["Connected as ",e.jsx("strong",{children:i.username})]})]}):e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[e.jsx("div",{style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.7)"},children:"GitHub Personal Access Token:"}),e.jsx("input",{type:"password",value:d,onChange:r=>o(r.target.value),placeholder:"Enter your GitHub token",style:{width:"100%",padding:"8px 12px",background:"rgba(255, 255, 255, 0.08)",border:"1px solid rgba(255, 255, 255, 0.15)",borderRadius:"6px",color:"#ffffff",fontSize:"12px",outline:"none"}}),e.jsx("button",{onClick:B,disabled:y,style:{background:"rgba(139, 92, 246, 0.9)",color:"#ffffff",border:"none",borderRadius:"6px",padding:"8px 16px",fontSize:"12px",fontWeight:"500",cursor:y?"not-allowed":"pointer",opacity:y?.7:1},children:y?"Verifying...":"Verify Token"}),j&&e.jsx("div",{style:{fontSize:"11px",color:j.includes("✓")?"#10b981":"#ef4444",textAlign:"center"},children:j})]})]}),e.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.08)",backdropFilter:"blur(12px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.12)"},children:[e.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:"#ffffff",marginBottom:"12px"},children:"Repository Configuration"}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.7)",marginBottom:"4px"},children:"Repository Owner:"}),e.jsx("input",{type:"text",value:l,onChange:r=>a(r.target.value),placeholder:"GitHub username or organization",style:{width:"100%",padding:"8px 12px",background:"rgba(255, 255, 255, 0.08)",border:"1px solid rgba(255, 255, 255, 0.15)",borderRadius:"6px",color:"#ffffff",fontSize:"12px",outline:"none"}})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.7)",marginBottom:"4px"},children:"Repository Name:"}),e.jsx("input",{type:"text",value:n,onChange:r=>p(r.target.value),placeholder:"leetcode-solutions",style:{width:"100%",padding:"8px 12px",background:"rgba(255, 255, 255, 0.08)",border:"1px solid rgba(255, 255, 255, 0.15)",borderRadius:"6px",color:"#ffffff",fontSize:"12px",outline:"none"}})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.7)",marginBottom:"4px"},children:"Branch:"}),e.jsx("input",{type:"text",value:x,onChange:r=>c(r.target.value),placeholder:"main",style:{width:"100%",padding:"8px 12px",background:"rgba(255, 255, 255, 0.08)",border:"1px solid rgba(255, 255, 255, 0.15)",borderRadius:"6px",color:"#ffffff",fontSize:"12px",outline:"none"}})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("input",{type:"checkbox",id:"private-repo",checked:f,onChange:r=>v(r.target.checked),style:{width:"14px",height:"14px"}}),e.jsx("label",{htmlFor:"private-repo",style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.7)"},children:"Private Repository"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.7)",marginBottom:"4px"},children:"Folder Structure:"}),e.jsxs("select",{value:h,onChange:r=>C(r.target.value),style:{width:"100%",padding:"8px 12px",background:"rgba(255, 255, 255, 0.08)",border:"1px solid rgba(255, 255, 255, 0.15)",borderRadius:"6px",color:"#ffffff",fontSize:"12px",outline:"none"},children:[e.jsx("option",{value:"topic",style:{background:"#1a1a1a"},children:"By Topic"}),e.jsx("option",{value:"difficulty",style:{background:"#1a1a1a"},children:"By Difficulty"}),e.jsx("option",{value:"flat",style:{background:"#1a1a1a"},children:"Flat Structure"})]})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("input",{type:"checkbox",id:"include-description",checked:k,onChange:r=>I(r.target.checked),style:{width:"14px",height:"14px"}}),e.jsx("label",{htmlFor:"include-description",style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.7)"},children:"Include Problem Description"})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("input",{type:"checkbox",id:"include-test-cases",checked:z,onChange:r=>F(r.target.checked),style:{width:"14px",height:"14px"}}),e.jsx("label",{htmlFor:"include-test-cases",style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.7)"},children:"Include Test Cases"})]})]}),e.jsx("button",{onClick:D,disabled:m,style:{background:"rgba(139, 92, 246, 0.9)",color:"#ffffff",border:"none",borderRadius:"8px",padding:"10px 20px",fontSize:"12px",fontWeight:"500",cursor:m?"not-allowed":"pointer",opacity:m?.7:1,marginTop:"4px"},children:m?"Saving...":"Save Configuration"}),S&&e.jsx("div",{style:{fontSize:"11px",color:S.includes("✓")?"#10b981":"#ef4444",textAlign:"center"},children:S})]})]})]})},W=()=>{const[i,t]=s.useState("home"),[d,o]=s.useState(null),[l,a]=s.useState(!0),[n,p]=s.useState("");return s.useEffect(()=>{(async()=>{try{const c=await new Promise((f,v)=>{chrome.runtime.sendMessage({type:"GET_HOME_DATA"},h=>{chrome.runtime.lastError?v(new Error(chrome.runtime.lastError.message)):f(h)})});c&&c.success?o(c.data):p((c==null?void 0:c.error)||"Failed to load data")}catch(c){console.error("Failed to fetch home data:",c),p("Failed to connect to extension")}finally{a(!1)}})()},[]),l?e.jsx("div",{style:{width:"380px",height:"500px",background:"linear-gradient(135deg, #1e1b4b 0%, #312e81 50%, #4c1d95 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"#ffffff",fontSize:"14px",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{marginBottom:"12px",fontSize:"24px"},children:"⚡"}),e.jsx("div",{children:"Loading..."})]})}):n?e.jsx("div",{style:{width:"380px",height:"500px",background:"linear-gradient(135deg, #1e1b4b 0%, #312e81 50%, #4c1d95 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"#ffffff",fontSize:"14px",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',padding:"20px",textAlign:"center"},children:e.jsxs("div",{children:[e.jsx("div",{style:{marginBottom:"12px",fontSize:"24px"},children:"❌"}),e.jsx("div",{children:n})]})}):e.jsxs("div",{style:{width:"380px",height:"500px",background:"linear-gradient(135deg, #1e1b4b 0%, #312e81 50%, #4c1d95 100%)",display:"flex",flexDirection:"column",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',position:"relative"},children:[e.jsxs("div",{style:{padding:"20px 20px 16px 20px",borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"16px"},children:[e.jsx("div",{style:{width:"32px",height:"32px",background:"rgba(255, 255, 255, 0.15)",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"16px"},children:"🎯"}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"18px",fontWeight:"bold",color:"#ffffff"},children:"Leet2Git"}),e.jsx("div",{style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.7)"},children:"LeetCode → GitHub Sync"})]})]}),e.jsx("div",{style:{display:"flex",gap:"4px"},children:[{key:"home",label:"Home",icon:"🏠"},{key:"push",label:"Push",icon:"🚀"},{key:"settings",label:"Settings",icon:"⚙️"}].map(({key:x,label:c,icon:f})=>e.jsxs("button",{onClick:()=>t(x),style:{flex:1,padding:"8px 6px",background:i===x?"rgba(255, 255, 255, 0.15)":"transparent",border:"none",borderRadius:"8px",color:"#ffffff",fontSize:"11px",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"4px",transition:"all 0.2s ease"},children:[e.jsx("span",{style:{fontSize:"12px"},children:f}),e.jsx("span",{children:c})]},x))})]}),e.jsxs("div",{style:{flex:1,padding:"20px",overflowY:"auto"},children:[i==="home"&&d&&e.jsx(A,{stats:d.stats}),i==="push"&&d&&e.jsx(H,{pending:d.pending}),i==="settings"&&d&&e.jsx(E,{auth:d.auth,config:d.config})]})]})};P(document.getElementById("root")).render(e.jsx(W,{}));
