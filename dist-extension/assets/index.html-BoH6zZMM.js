import{r as a,j as e,c as x}from"./client-nMGDAYsi.js";function u(){var i,d,r,l;const[t,o]=a.useState({stats:{counts:{easy:0,medium:0,hard:0},recentSolves:[]},pending:[],auth:null,loading:!0,message:""});a.useEffect(()=>{c()},[]);const c=async()=>{try{const s=await chrome.runtime.sendMessage({type:"getHomeData"});s.success&&o(n=>({...n,stats:s.data.stats,pending:s.data.pending,auth:s.data.auth,loading:!1}))}catch{o(n=>({...n,loading:!1,message:"Error loading data"}))}},g=async()=>{o(s=>({...s,loading:!0,message:"Pushing to GitHub..."}));try{const s=await chrome.runtime.sendMessage({type:"push"});s.success?o(n=>({...n,loading:!1,message:s.message||"Pushed successfully!",pending:[]})):o(n=>({...n,loading:!1,message:s.error||"Push failed"}))}catch{o(n=>({...n,loading:!1,message:"Error pushing to GitHub"}))}},p=()=>{chrome.runtime.openOptionsPage()};return t.loading?e.jsx("div",{style:{width:"350px",padding:"20px",textAlign:"center"},children:"Loading..."}):e.jsxs("div",{style:{width:"350px",padding:"20px",fontFamily:"Arial, sans-serif"},children:[e.jsx("h1",{style:{fontSize:"18px",marginBottom:"20px",color:"#333"},children:"Leet2Git"}),e.jsxs("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"#f8f9fa",borderRadius:"8px"},children:[e.jsx("h2",{style:{fontSize:"14px",marginBottom:"10px",color:"#555"},children:"Statistics"}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"20px",fontWeight:"bold",color:"#28a745"},children:t.stats.counts.easy}),e.jsx("div",{style:{fontSize:"12px",color:"#666"},children:"Easy"})]}),e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"20px",fontWeight:"bold",color:"#ffc107"},children:t.stats.counts.medium}),e.jsx("div",{style:{fontSize:"12px",color:"#666"},children:"Medium"})]}),e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"20px",fontWeight:"bold",color:"#dc3545"},children:t.stats.counts.hard}),e.jsx("div",{style:{fontSize:"12px",color:"#666"},children:"Hard"})]})]})]}),t.pending.length>0&&e.jsxs("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"#e3f2fd",borderRadius:"8px"},children:[e.jsxs("h2",{style:{fontSize:"14px",marginBottom:"10px",color:"#555"},children:["Pending Solutions (",t.pending.length,")"]}),e.jsx("div",{style:{maxHeight:"120px",overflowY:"auto"},children:t.pending.slice(0,5).map((s,n)=>e.jsxs("div",{style:{fontSize:"12px",marginBottom:"5px",padding:"5px",backgroundColor:"white",borderRadius:"4px"},children:[e.jsx("div",{style:{fontWeight:"bold"},children:s.title}),e.jsxs("div",{style:{color:"#666"},children:[s.language," • ",s.difficulty]})]},n))})]}),e.jsx("div",{style:{marginBottom:"20px"},children:(i=t.auth)!=null&&i.connected?e.jsxs("div",{style:{color:"#28a745",fontSize:"14px"},children:["✓ Connected as ",t.auth.username]}):e.jsx("div",{style:{color:"#dc3545",fontSize:"14px"},children:"✗ Not connected to GitHub"})}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[e.jsx("button",{onClick:g,disabled:t.loading||t.pending.length===0||!((d=t.auth)!=null&&d.connected),style:{padding:"10px",backgroundColor:t.pending.length>0&&((r=t.auth)!=null&&r.connected)?"#007bff":"#6c757d",color:"white",border:"none",borderRadius:"4px",cursor:t.pending.length>0&&((l=t.auth)!=null&&l.connected)?"pointer":"not-allowed",fontSize:"14px"},children:t.loading?"Pushing...":`Push ${t.pending.length} Solutions`}),e.jsx("button",{onClick:p,style:{padding:"10px",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:"Settings"})]}),t.message&&e.jsx("div",{style:{marginTop:"15px",padding:"10px",backgroundColor:t.message.includes("Error")||t.message.includes("failed")?"#f8d7da":"#d4edda",color:t.message.includes("Error")||t.message.includes("failed")?"#721c24":"#155724",borderRadius:"4px",fontSize:"12px"},children:t.message})]})}x(document.getElementById("root")).render(e.jsx(u,{}));
