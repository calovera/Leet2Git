import{r as c,j as t,c as u}from"./client.nMGDAYsi.js";function x(){const[o,n]=c.useState({token:"",username:"",email:"",connected:!1,owner:"",repo:"leetcode-solutions",branch:"main",private:!1,folderStructure:"topic",loading:!1,message:"",messageType:""});c.useEffect(()=>{d()},[]);const d=async()=>{try{const e=await chrome.storage.sync.get(["github_token","github_user","auth","config","owner","repo","branch"]);e.github_token&&e.github_user?n(r=>({...r,token:e.github_token,username:e.github_user.username||"",email:e.github_user.email||"",connected:e.github_user.connected||!1})):e.auth&&n(r=>({...r,token:e.auth.token||"",username:e.auth.username||"",email:e.auth.email||"",connected:e.auth.connected||!1})),e.config?n(r=>({...r,owner:e.config.owner||"",repo:e.config.repo||"leetcode-solutions",branch:e.config.branch||"main",private:e.config.private||!1,folderStructure:e.config.folderStructure||"topic"})):n(r=>({...r,owner:e.owner||"",repo:e.repo||"leetcode-solutions",branch:e.branch||"main"}))}catch(e){console.error("Error loading settings:",e)}},p=async()=>{if(!o.token){a("Please enter a GitHub token",!1);return}n(e=>({...e,loading:!0}));try{const r=await(await fetch("https://api.github.com/user",{headers:{Authorization:`Bearer ${o.token}`,Accept:"application/vnd.github.v3+json"}})).json();if(r.login){const i={token:o.token,username:r.login,email:r.email||"",connected:!0};n(l=>({...l,username:r.login,email:r.email||"",connected:!0,owner:l.owner||r.login})),await chrome.storage.sync.set({auth:i,github_token:o.token,github_user:i}),a("GitHub connected successfully!",!0)}else a("Invalid GitHub token",!1)}catch{a("Error verifying token",!1)}finally{n(e=>({...e,loading:!1}))}},g=async()=>{try{const e={owner:o.owner,repo:o.repo,branch:o.branch,private:o.private,folderStructure:o.folderStructure,includeDescription:!0,includeTestCases:!1};await chrome.storage.sync.set({config:e,owner:o.owner,repo:o.repo,branch:o.branch}),a("Settings saved successfully!",!0)}catch{a("Error saving settings",!1)}},a=(e,r)=>{n(i=>({...i,message:e,messageType:r?"success":"error"})),setTimeout(()=>{n(i=>({...i,message:"",messageType:""}))},3e3)},s=(e,r)=>{n(i=>({...i,[e]:r}))};return t.jsx("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"40px 20px",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:t.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto"},children:[t.jsx("h1",{style:{color:"#ffffff",fontSize:"32px",fontWeight:"700",marginBottom:"40px",textAlign:"center",textShadow:"0 2px 4px rgba(0, 0, 0, 0.3)"},children:"Leet2Git Settings"}),t.jsxs("div",{style:{marginBottom:"30px",padding:"24px",backgroundColor:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"16px",backdropFilter:"blur(10px)"},children:[t.jsx("h2",{style:{color:"rgba(255, 255, 255, 0.9)",fontSize:"20px",fontWeight:"600",marginBottom:"20px"},children:"GitHub Authentication"}),t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",color:"rgba(255, 255, 255, 0.9)",fontSize:"14px",fontWeight:"600"},children:"GitHub Personal Access Token:"}),t.jsx("input",{type:"password",value:o.token,onChange:e=>s("token",e.target.value),placeholder:"Enter your GitHub token",style:{width:"100%",padding:"12px 16px",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",fontSize:"14px",backgroundColor:"rgba(255, 255, 255, 0.9)",color:"#1e293b",outline:"none"}})]}),t.jsx("button",{onClick:p,disabled:o.loading||!o.token,style:{padding:"12px 24px",backgroundColor:o.connected?"#10b981":"#3b82f6",color:"#ffffff",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:o.loading||!o.token?"not-allowed":"pointer",opacity:o.loading||!o.token?.6:1,transition:"all 0.2s",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},children:o.loading?"Verifying...":o.connected?"Connected":"Verify Token"}),o.connected&&t.jsxs("div",{style:{marginTop:"16px",color:"#10b981",fontSize:"14px",fontWeight:"500"},children:["âœ“ Connected as ",o.username]})]}),t.jsxs("div",{style:{marginBottom:"30px",padding:"24px",backgroundColor:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"16px",backdropFilter:"blur(10px)"},children:[t.jsx("h2",{style:{color:"rgba(255, 255, 255, 0.9)",fontSize:"20px",fontWeight:"600",marginBottom:"20px"},children:"Repository Configuration"}),t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",color:"rgba(255, 255, 255, 0.9)",fontSize:"14px",fontWeight:"600"},children:"Repository Owner:"}),t.jsx("input",{type:"text",value:o.owner,onChange:e=>s("owner",e.target.value),placeholder:"GitHub username or organization",style:{width:"100%",padding:"12px 16px",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",fontSize:"14px",backgroundColor:"rgba(255, 255, 255, 0.9)",color:"#1e293b",outline:"none"}})]}),t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",color:"rgba(255, 255, 255, 0.9)",fontSize:"14px",fontWeight:"600"},children:"Repository Name:"}),t.jsx("input",{type:"text",value:o.repo,onChange:e=>s("repo",e.target.value),placeholder:"Repository name",style:{width:"100%",padding:"12px 16px",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",fontSize:"14px",backgroundColor:"rgba(255, 255, 255, 0.9)",color:"#1e293b",outline:"none"}})]}),t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",color:"rgba(255, 255, 255, 0.9)",fontSize:"14px",fontWeight:"600"},children:"Branch:"}),t.jsx("input",{type:"text",value:o.branch,onChange:e=>s("branch",e.target.value),placeholder:"main",style:{width:"100%",padding:"12px 16px",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",fontSize:"14px",backgroundColor:"rgba(255, 255, 255, 0.9)",color:"#1e293b",outline:"none"}})]}),t.jsx("div",{style:{marginBottom:"20px"},children:t.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer",color:"rgba(255, 255, 255, 0.9)",fontSize:"14px",fontWeight:"600"},children:[t.jsx("input",{type:"checkbox",checked:o.private,onChange:e=>s("private",e.target.checked),style:{marginRight:"12px",width:"16px",height:"16px",accentColor:"#3b82f6"}}),"Private Repository"]})}),t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",color:"rgba(255, 255, 255, 0.9)",fontSize:"14px",fontWeight:"600"},children:"Folder Structure:"}),t.jsxs("select",{value:o.folderStructure,onChange:e=>s("folderStructure",e.target.value),style:{width:"100%",padding:"12px 16px",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",fontSize:"14px",backgroundColor:"rgba(255, 255, 255, 0.9)",color:"#1e293b",outline:"none"},children:[t.jsx("option",{value:"topic",children:"By Topic (Array, Hash Table, etc.)"}),t.jsx("option",{value:"difficulty",children:"By Difficulty (Easy, Medium, Hard)"}),t.jsx("option",{value:"flat",children:"Flat (All in root)"})]})]}),t.jsx("button",{onClick:g,style:{padding:"12px 24px",backgroundColor:"#10b981",color:"#ffffff",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},children:"Save Settings"})]}),o.message&&t.jsx("div",{style:{padding:"16px",borderRadius:"8px",backgroundColor:o.messageType==="success"?"rgba(16, 185, 129, 0.1)":"rgba(239, 68, 68, 0.1)",color:o.messageType==="success"?"#10b981":"#ef4444",border:`1px solid ${o.messageType==="success"?"rgba(16, 185, 129, 0.2)":"rgba(239, 68, 68, 0.2)"}`,backdropFilter:"blur(10px)",fontSize:"14px",fontWeight:"500"},children:o.message})]})})}u(document.getElementById("root")).render(t.jsx(x,{}));
