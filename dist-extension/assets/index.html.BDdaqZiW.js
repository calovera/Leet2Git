import{r as d,j as e,c as I}from"./client.nMGDAYsi.js";const T=({stats:o})=>{const t=i=>{const l=Date.now(),r=Math.floor((l-i)/(1e3*60));if(r<1)return"Just now";if(r<60)return`${r} min ago`;const c=Math.floor(r/60);return c<24?`${c}h ago`:`${Math.floor(c/24)}d ago`},s=i=>({Python:"#3776ab",JavaScript:"#f7df1e",Java:"#ed8b00","C++":"#00599c",Go:"#00add8",Rust:"#ce422b"})[i]||"#6b7280";return e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"12px"},children:[e.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.08)",backdropFilter:"blur(12px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.12)",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#ffffff",marginBottom:"4px"},children:o.streak}),e.jsx("div",{style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.7)"},children:"Day Streak"})]}),e.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.08)",backdropFilter:"blur(12px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.12)",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#ffffff",marginBottom:"4px"},children:o.counts.easy+o.counts.medium+o.counts.hard}),e.jsx("div",{style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.7)"},children:"Total Solved"})]})]}),e.jsx("div",{style:{display:"flex",gap:"8px"},children:[{label:"Easy",count:o.counts.easy,color:"#10b981"},{label:"Medium",count:o.counts.medium,color:"#f59e0b"},{label:"Hard",count:o.counts.hard,color:"#ef4444"}].map(({label:i,count:l,color:r})=>e.jsxs("div",{style:{flex:1,background:"rgba(255, 255, 255, 0.08)",backdropFilter:"blur(12px)",borderRadius:"10px",padding:"12px",border:"1px solid rgba(255, 255, 255, 0.12)",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"18px",fontWeight:"bold",color:r,marginBottom:"2px"},children:l}),e.jsx("div",{style:{fontSize:"11px",color:"rgba(255, 255, 255, 0.7)"},children:i})]},i))}),e.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.08)",backdropFilter:"blur(12px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.12)"},children:[e.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:"#ffffff",marginBottom:"12px"},children:"Recent Solves"}),o.recentSolves.length===0?e.jsxs("div",{style:{textAlign:"center",padding:"20px",color:"rgba(255, 255, 255, 0.6)",fontSize:"13px"},children:[e.jsx("div",{style:{marginBottom:"8px",fontSize:"20px"},children:"ðŸŽ¯"}),e.jsx("div",{children:"No recent solutions yet"}),e.jsx("div",{children:"Start solving problems on LeetCode!"})]}):e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:o.recentSolves.slice(0,3).map((i,l)=>e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px 12px",background:"rgba(255, 255, 255, 0.05)",borderRadius:"8px",border:"1px solid rgba(255, 255, 255, 0.08)"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"2px"},children:[e.jsx("div",{style:{fontSize:"13px",fontWeight:"500",color:"#ffffff"},children:i.title}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("span",{style:{fontSize:"10px",padding:"2px 6px",borderRadius:"4px",background:i.difficulty==="Easy"?"#10b981":i.difficulty==="Medium"?"#f59e0b":"#ef4444",color:"#ffffff",fontWeight:"500"},children:i.difficulty}),e.jsx("span",{style:{fontSize:"11px",color:"rgba(255, 255, 255, 0.7)",background:`${s(i.language)}20`,padding:"1px 4px",borderRadius:"3px"},children:i.language})]})]}),e.jsx("div",{style:{fontSize:"11px",color:"rgba(255, 255, 255, 0.5)"},children:t(i.timestamp)})]},l))})]})]})},B=({pending:o,auth:t})=>{const[s,i]=d.useState(!1),[l,r]=d.useState(""),c=async()=>{if(!t||!t.connected){r("Please connect to GitHub first in Settings tab"),setTimeout(()=>r(""),3e3);return}i(!0),r("Syncing solutions to GitHub...");try{const a=await new Promise(u=>{chrome.runtime.sendMessage({type:"PUSH_SOLUTIONS"},u)});a.success?r(`Successfully synced ${a.count||0} solutions!`):r(`Error: ${a.error||"Unknown error occurred"}`)}catch{r("Error: Failed to sync solutions")}i(!1),setTimeout(()=>r(""),3e3)},p=s||!(t!=null&&t.connected);return e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[e.jsx("button",{onClick:c,disabled:p,style:{background:p?"rgba(255, 255, 255, 0.08)":"rgba(139, 92, 246, 0.9)",color:p?"rgba(255, 255, 255, 0.5)":"#ffffff",border:"none",borderRadius:"12px",padding:"16px 24px",fontSize:"14px",fontWeight:"600",cursor:p?"not-allowed":"pointer",transition:"all 0.2s ease",opacity:p?.6:1,backdropFilter:"blur(12px)",boxShadow:p?"none":"0 4px 16px rgba(139, 92, 246, 0.3)"},children:s?"Syncing...":t!=null&&t.connected?"Sync to GitHub":"Connect GitHub First"}),l&&e.jsx("div",{style:{background:"rgba(255, 255, 255, 0.08)",backdropFilter:"blur(12px)",borderRadius:"8px",padding:"12px",border:"1px solid rgba(255, 255, 255, 0.12)",fontSize:"13px",color:"#ffffff",textAlign:"center"},children:l}),e.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.08)",backdropFilter:"blur(12px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.12)"},children:[e.jsxs("div",{style:{fontSize:"14px",fontWeight:"600",color:"#ffffff",marginBottom:"12px"},children:["Pending Solutions (",o.length,")"]}),o.length===0?e.jsxs("div",{style:{textAlign:"center",padding:"20px",color:"rgba(255, 255, 255, 0.6)",fontSize:"13px"},children:[e.jsx("div",{style:{marginBottom:"8px",fontSize:"20px"},children:"âœ¨"}),e.jsx("div",{children:"All caught up!"}),e.jsx("div",{children:"No pending solutions to sync"})]}):e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px",maxHeight:"200px",overflowY:"auto"},children:o.map((a,u)=>e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 12px",background:"rgba(255, 255, 255, 0.05)",borderRadius:"8px",border:"1px solid rgba(255, 255, 255, 0.08)"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"2px"},children:[e.jsx("div",{style:{fontSize:"13px",fontWeight:"500",color:"#ffffff"},children:a.title}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("span",{style:{fontSize:"10px",padding:"2px 6px",borderRadius:"4px",background:a.difficulty==="Easy"?"#10b981":a.difficulty==="Medium"?"#f59e0b":"#ef4444",color:"#ffffff",fontWeight:"500"},children:a.difficulty}),e.jsx("span",{style:{fontSize:"11px",color:"rgba(255, 255, 255, 0.7)"},children:a.language})]})]}),e.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"#f59e0b"}})]},u))})]})]})},F=({auth:o,config:t})=>{const[s,i]=d.useState(""),[l,r]=d.useState((t==null?void 0:t.owner)||""),[c,p]=d.useState((t==null?void 0:t.repo)||"leetcode-solutions"),[a,u]=d.useState((t==null?void 0:t.branch)||"main"),[v,z]=d.useState((t==null?void 0:t.private)||!1),[S,w]=d.useState((t==null?void 0:t.folderStructure)||"topic"),[b,j]=d.useState(!1),[h,x]=d.useState(""),[y,k]=d.useState(!1),[m,f]=d.useState(""),R=async()=>{if(!s.trim()){x("Please enter a GitHub token");return}j(!0),x("Verifying token...");try{const n=await new Promise(g=>{chrome.runtime.sendMessage({type:"AUTH_GITHUB",data:{token:s.trim()}},g)});n.success?(x(`âœ“ Connected as ${n.username}`),setTimeout(()=>x(""),3e3)):x(`âœ— ${n.error||"Invalid token"}`)}catch{x("âœ— Failed to verify token")}j(!1)},C=async()=>{const n={owner:l.trim(),repo:c.trim(),branch:a.trim(),private:v,folderStructure:S,includeDescription:!0,includeTestCases:!1};if(!n.owner||!n.repo){f("âœ— Repository owner and name are required");return}k(!0),f("Saving configuration...");try{const g=await new Promise(D=>{chrome.runtime.sendMessage({type:"UPDATE_CONFIG",data:n},D)});g.success?(f("âœ“ Configuration saved successfully"),setTimeout(()=>f(""),3e3)):f(`âœ— ${g.error||"Failed to save configuration"}`)}catch{f("âœ— Failed to save configuration")}k(!1)};return e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[e.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.08)",backdropFilter:"blur(12px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.12)"},children:[e.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:"#ffffff",marginBottom:"12px"},children:"GitHub Authentication"}),o!=null&&o.connected?e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px",background:"rgba(16, 185, 129, 0.15)",borderRadius:"8px",border:"1px solid rgba(16, 185, 129, 0.25)"},children:[e.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"#10b981"}}),e.jsxs("div",{style:{color:"#ffffff",fontSize:"13px"},children:["Connected as ",e.jsx("strong",{children:o.username})]})]}):e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[e.jsx("div",{style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.7)"},children:"GitHub Personal Access Token:"}),e.jsx("input",{type:"password",value:s,onChange:n=>i(n.target.value),placeholder:"Enter your GitHub token",style:{width:"100%",padding:"8px 12px",background:"rgba(255, 255, 255, 0.08)",border:"1px solid rgba(255, 255, 255, 0.15)",borderRadius:"6px",color:"#ffffff",fontSize:"12px",outline:"none"}}),e.jsx("button",{onClick:R,disabled:b,style:{background:"rgba(139, 92, 246, 0.9)",color:"#ffffff",border:"none",borderRadius:"6px",padding:"8px 16px",fontSize:"12px",fontWeight:"500",cursor:b?"not-allowed":"pointer",opacity:b?.7:1},children:b?"Verifying...":"Verify Token"}),h&&e.jsx("div",{style:{fontSize:"11px",color:h.includes("âœ“")?"#10b981":"#ef4444",textAlign:"center"},children:h})]})]}),e.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.08)",backdropFilter:"blur(12px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.12)"},children:[e.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:"#ffffff",marginBottom:"12px"},children:"Repository Configuration"}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.7)",marginBottom:"4px"},children:"Repository Owner:"}),e.jsx("input",{type:"text",value:l,onChange:n=>r(n.target.value),placeholder:"GitHub username or organization",style:{width:"100%",padding:"8px 12px",background:"rgba(255, 255, 255, 0.08)",border:"1px solid rgba(255, 255, 255, 0.15)",borderRadius:"6px",color:"#ffffff",fontSize:"12px",outline:"none"}})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.7)",marginBottom:"4px"},children:"Repository Name:"}),e.jsx("input",{type:"text",value:c,onChange:n=>p(n.target.value),placeholder:"leetcode-solutions",style:{width:"100%",padding:"8px 12px",background:"rgba(255, 255, 255, 0.08)",border:"1px solid rgba(255, 255, 255, 0.15)",borderRadius:"6px",color:"#ffffff",fontSize:"12px",outline:"none"}})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.7)",marginBottom:"4px"},children:"Branch:"}),e.jsx("input",{type:"text",value:a,onChange:n=>u(n.target.value),placeholder:"main",style:{width:"100%",padding:"8px 12px",background:"rgba(255, 255, 255, 0.08)",border:"1px solid rgba(255, 255, 255, 0.15)",borderRadius:"6px",color:"#ffffff",fontSize:"12px",outline:"none"}})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("input",{type:"checkbox",id:"private-repo",checked:v,onChange:n=>z(n.target.checked),style:{width:"14px",height:"14px"}}),e.jsx("label",{htmlFor:"private-repo",style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.7)"},children:"Private Repository"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.7)",marginBottom:"4px"},children:"Folder Structure:"}),e.jsxs("select",{value:S,onChange:n=>w(n.target.value),style:{width:"100%",padding:"8px 12px",background:"rgba(255, 255, 255, 0.08)",border:"1px solid rgba(255, 255, 255, 0.15)",borderRadius:"6px",color:"#ffffff",fontSize:"12px",outline:"none"},children:[e.jsx("option",{value:"topic",style:{background:"#1a1a1a"},children:"By Topic"}),e.jsx("option",{value:"difficulty",style:{background:"#1a1a1a"},children:"By Difficulty"}),e.jsx("option",{value:"flat",style:{background:"#1a1a1a"},children:"Flat Structure"})]})]}),e.jsx("button",{onClick:C,disabled:y,style:{background:"rgba(139, 92, 246, 0.9)",color:"#ffffff",border:"none",borderRadius:"8px",padding:"10px 20px",fontSize:"12px",fontWeight:"500",cursor:y?"not-allowed":"pointer",opacity:y?.7:1,marginTop:"4px"},children:y?"Saving...":"Save Configuration"}),m&&e.jsx("div",{style:{fontSize:"11px",color:m.includes("âœ“")?"#10b981":"#ef4444",textAlign:"center"},children:m})]})]})]})},H=()=>{const[o,t]=d.useState("home"),[s,i]=d.useState({stats:{streak:0,counts:{easy:0,medium:0,hard:0},recentSolves:[]},pending:[],auth:null,config:{owner:"",repo:"leetcode-solutions",branch:"main",private:!1,folderStructure:"topic",includeDescription:!0,includeTestCases:!1}});return d.useEffect(()=>{(()=>{try{chrome.runtime.sendMessage({type:"GET_HOME_DATA"},r=>{r&&r.success&&r.data&&i(r.data)})}catch(r){console.error("Failed to fetch home data:",r)}})()},[]),e.jsxs("div",{style:{width:"380px",height:"500px",background:"linear-gradient(135deg, #1e1b4b 0%, #312e81 50%, #4c1d95 100%)",display:"flex",flexDirection:"column",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',position:"relative"},children:[e.jsxs("div",{style:{padding:"16px 16px 12px 16px",borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"12px"},children:[e.jsx("div",{style:{width:"32px",height:"32px",background:"rgba(255, 255, 255, 0.15)",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"16px"},children:"ðŸŽ¯"}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"18px",fontWeight:"bold",color:"#ffffff"},children:"Leet2Git"}),e.jsx("div",{style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.7)"},children:"LeetCode â†’ GitHub Sync"})]})]}),e.jsx("div",{style:{display:"flex",gap:"4px"},children:[{key:"home",label:"Home",icon:"ðŸ "},{key:"push",label:"Push",icon:"ðŸš€"},{key:"settings",label:"Settings",icon:"âš™ï¸"}].map(({key:l,label:r,icon:c})=>e.jsxs("button",{onClick:()=>t(l),style:{flex:1,padding:"8px 6px",background:o===l?"rgba(255, 255, 255, 0.15)":"transparent",border:"none",borderRadius:"8px",color:"#ffffff",fontSize:"11px",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"4px",transition:"all 0.2s ease"},children:[e.jsx("span",{style:{fontSize:"12px"},children:c}),e.jsx("span",{children:r})]},l))})]}),e.jsxs("div",{style:{flex:1,padding:"16px",overflowY:"auto",maxHeight:"calc(500px - 120px)"},children:[o==="home"&&s&&e.jsx(T,{stats:s.stats}),o==="push"&&s&&e.jsx(B,{pending:s.pending,auth:s.auth}),o==="settings"&&s&&e.jsx(F,{auth:s.auth,config:s.config})]})]})};I(document.getElementById("root")).render(e.jsx(H,{}));
