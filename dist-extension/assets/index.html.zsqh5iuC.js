import{r as s,j as e,c as I}from"./client.nMGDAYsi.js";const B=({stats:t})=>{const r=n=>{const p=Date.now(),l=Math.floor((p-n)/(1e3*60));if(l<1)return"Just now";if(l<60)return`${l} min ago`;const c=Math.floor(l/60);return c<24?`${c}h ago`:`${Math.floor(c/24)}d ago`},a=n=>({Python:"#3776ab",JavaScript:"#f7df1e",Java:"#ed8b00","C++":"#00599c",Go:"#00add8",Rust:"#ce422b"})[n]||"#6b7280";return e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"12px"},children:[e.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.08)",backdropFilter:"blur(12px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.12)",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#ffffff",marginBottom:"4px"},children:t.streak}),e.jsx("div",{style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.7)"},children:"Day Streak"})]}),e.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.08)",backdropFilter:"blur(12px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.12)",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#ffffff",marginBottom:"4px"},children:t.counts.easy+t.counts.medium+t.counts.hard}),e.jsx("div",{style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.7)"},children:"Total Solved"})]})]}),e.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.08)",backdropFilter:"blur(12px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.12)"},children:[e.jsx("div",{style:{fontSize:"14px",fontWeight:"500",color:"#ffffff",marginBottom:"12px"},children:"Problem Breakdown"}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"18px",fontWeight:"bold",color:"#10b981"},children:t.counts.easy}),e.jsx("div",{style:{fontSize:"11px",color:"rgba(255, 255, 255, 0.7)"},children:"Easy"})]}),e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"18px",fontWeight:"bold",color:"#f59e0b"},children:t.counts.medium}),e.jsx("div",{style:{fontSize:"11px",color:"rgba(255, 255, 255, 0.7)"},children:"Medium"})]}),e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"18px",fontWeight:"bold",color:"#ef4444"},children:t.counts.hard}),e.jsx("div",{style:{fontSize:"11px",color:"rgba(255, 255, 255, 0.7)"},children:"Hard"})]})]})]}),e.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.08)",backdropFilter:"blur(12px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.12)"},children:[e.jsx("div",{style:{fontSize:"14px",fontWeight:"500",color:"#ffffff",marginBottom:"12px"},children:"Recent Activity"}),t.recentSolves.length===0?e.jsx("div",{style:{textAlign:"center",color:"rgba(255, 255, 255, 0.6)",fontSize:"12px",padding:"8px 0"},children:"No recent activity"}):e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px",maxHeight:"120px",overflowY:"auto"},children:t.recentSolves.slice(0,3).map((n,p)=>e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"6px 0"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"2px"},children:[e.jsx("div",{style:{fontSize:"12px",fontWeight:"500",color:"#ffffff"},children:n.title}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[e.jsx("span",{style:{width:"8px",height:"8px",borderRadius:"50%",background:a(n.language)}}),e.jsx("span",{style:{fontSize:"10px",color:"rgba(255, 255, 255, 0.7)"},children:n.language})]})]}),e.jsx("div",{style:{fontSize:"10px",color:"rgba(255, 255, 255, 0.5)"},children:r(n.timestamp)})]},p))})]})]})},D=({pending:t,onRefresh:r})=>{const[a,n]=s.useState(!1),[p,l]=s.useState(""),[c,f]=s.useState(null),d=async()=>{if(t.length===0){l("No pending solutions to push");return}n(!0),l("Syncing with GitHub...");try{const o=await new Promise(u=>{chrome.runtime.sendMessage({type:"push"},u)});o.success?(l(`✓ Successfully pushed ${o.count} solution(s)`),setTimeout(()=>{r(),l("")},2e3)):l(`✗ ${o.error||"Failed to push solutions"}`)}catch{l("✗ Failed to sync with GitHub")}n(!1)},x=o=>{f(c===o?null:o)};return e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[e.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.08)",backdropFilter:"blur(12px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.12)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[e.jsxs("div",{style:{fontSize:"14px",fontWeight:"500",color:"#ffffff"},children:["Pending Solutions (",t.length,")"]}),e.jsx("button",{onClick:d,disabled:a||t.length===0,style:{background:t.length===0?"rgba(255, 255, 255, 0.1)":"linear-gradient(135deg, #3B82F6 0%, #1E40AF 100%)",color:"#ffffff",border:"none",borderRadius:"8px",padding:"8px 16px",fontSize:"12px",fontWeight:"500",cursor:t.length===0?"not-allowed":"pointer",opacity:a?.7:1},children:a?"Syncing...":"Push to GitHub"})]}),p&&e.jsx("div",{style:{fontSize:"12px",color:p.startsWith("✓")?"#10b981":p.startsWith("✗")?"#ef4444":"rgba(255, 255, 255, 0.7)",marginTop:"8px"},children:p})]}),e.jsx("div",{style:{background:"rgba(255, 255, 255, 0.08)",backdropFilter:"blur(12px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.12)"},children:t.length===0?e.jsxs("div",{style:{textAlign:"center",padding:"20px",color:"rgba(255, 255, 255, 0.6)",fontSize:"13px"},children:[e.jsx("div",{style:{marginBottom:"8px",fontSize:"20px"},children:"✨"}),e.jsx("div",{children:"All caught up!"}),e.jsx("div",{children:"No pending solutions to sync"})]}):e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px",maxHeight:"300px",overflowY:"auto"},children:t.map((o,u)=>e.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.05)",borderRadius:"8px",border:"1px solid rgba(255, 255, 255, 0.08)",overflow:"hidden"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px",flex:1},children:[e.jsx("div",{style:{fontSize:"13px",fontWeight:"500",color:"#ffffff"},children:o.title}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("span",{style:{fontSize:"10px",padding:"2px 6px",borderRadius:"4px",background:o.difficulty==="Easy"?"#10b981":o.difficulty==="Medium"?"#f59e0b":"#ef4444",color:"#ffffff",fontWeight:"500"},children:o.difficulty}),e.jsx("span",{style:{fontSize:"11px",color:"rgba(255, 255, 255, 0.7)"},children:o.language}),e.jsx("span",{style:{fontSize:"11px",color:"rgba(255, 255, 255, 0.5)"},children:o.tag})]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("button",{onClick:()=>x(o.id),style:{background:"rgba(255, 255, 255, 0.1)",color:"#ffffff",border:"none",borderRadius:"6px",padding:"4px 8px",fontSize:"10px",cursor:"pointer"},children:c===o.id?"Hide":"Code"}),e.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"#f59e0b"}})]})]}),c===o.id&&e.jsxs("div",{style:{borderTop:"1px solid rgba(255, 255, 255, 0.08)",padding:"12px",background:"rgba(0, 0, 0, 0.2)"},children:[e.jsx("div",{style:{fontSize:"11px",color:"rgba(255, 255, 255, 0.7)",marginBottom:"8px",fontWeight:"500"},children:"Code Preview:"}),e.jsx("pre",{style:{fontSize:"10px",color:"#ffffff",background:"rgba(0, 0, 0, 0.3)",padding:"8px",borderRadius:"4px",overflow:"auto",maxHeight:"150px",margin:0,whiteSpace:"pre-wrap",fontFamily:'Monaco, Consolas, "Courier New", monospace'},children:o.code})]})]},u))})})]})},P=({auth:t,config:r,onAuthUpdate:a})=>{const[n,p]=s.useState(""),[l,c]=s.useState((r==null?void 0:r.owner)||""),[f,d]=s.useState((r==null?void 0:r.repo)||"leetcode-solutions"),[x,o]=s.useState((r==null?void 0:r.branch)||"main"),[u,w]=s.useState((r==null?void 0:r.private)||!1),[S,C]=s.useState((r==null?void 0:r.folderStructure)||"topic"),[y,k]=s.useState(!1),[v,g]=s.useState(""),[m,z]=s.useState(!1),[j,h]=s.useState(""),R=async()=>{if(!n.trim()){g("Please enter a GitHub token");return}k(!0),g("Verifying token...");try{const i=await new Promise(b=>{chrome.runtime.sendMessage({type:"auth",data:{token:n.trim()}},b)});i.success?(g(`✓ Connected as ${i.username}`),a(i.auth),setTimeout(()=>g(""),3e3)):g(`✗ ${i.error||"Invalid token"}`)}catch{g("✗ Failed to verify token")}k(!1)},F=async()=>{const i={owner:l.trim(),repo:f.trim(),branch:x.trim(),private:u,folderStructure:S,includeDescription:!0,includeTestCases:!1};if(!i.owner||!i.repo){h("✗ Repository owner and name are required");return}z(!0),h("Saving configuration...");try{const b=await new Promise(W=>{chrome.runtime.sendMessage({type:"updateConfig",payload:i},W)});b.success?(h("✓ Configuration saved successfully"),setTimeout(()=>h(""),3e3)):h(`✗ ${b.error||"Failed to save configuration"}`)}catch{h("✗ Failed to save configuration")}z(!1)};return e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[e.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.08)",backdropFilter:"blur(12px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.12)"},children:[e.jsx("div",{style:{fontSize:"14px",fontWeight:"500",color:"#ffffff",marginBottom:"12px"},children:"GitHub Authentication"}),t!=null&&t.connected?e.jsxs("div",{style:{padding:"12px",background:"rgba(16, 185, 129, 0.1)",borderRadius:"8px",border:"1px solid rgba(16, 185, 129, 0.2)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[e.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"#10b981"}}),e.jsxs("span",{style:{fontSize:"12px",fontWeight:"500",color:"#ffffff"},children:["Connected as ",t.username]})]}),e.jsx("div",{style:{fontSize:"11px",color:"rgba(255, 255, 255, 0.7)"},children:t.email})]}):e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[e.jsx("input",{type:"password",placeholder:"Enter GitHub Personal Access Token",value:n,onChange:i=>p(i.target.value),style:{background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",padding:"8px 12px",fontSize:"12px",color:"#ffffff",outline:"none"}}),e.jsx("button",{onClick:R,disabled:y,style:{background:"linear-gradient(135deg, #3B82F6 0%, #1E40AF 100%)",color:"#ffffff",border:"none",borderRadius:"8px",padding:"8px 16px",fontSize:"12px",fontWeight:"500",cursor:"pointer",opacity:y?.7:1},children:y?"Verifying...":"Verify Token"}),v&&e.jsx("div",{style:{fontSize:"11px",color:v.startsWith("✓")?"#10b981":"#ef4444",marginTop:"4px"},children:v})]})]}),e.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.08)",backdropFilter:"blur(12px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.12)"},children:[e.jsx("div",{style:{fontSize:"14px",fontWeight:"500",color:"#ffffff",marginBottom:"12px"},children:"Repository Configuration"}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 3fr",gap:"8px"},children:[e.jsx("input",{type:"text",placeholder:"Username",value:l,onChange:i=>c(i.target.value),style:{background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",padding:"8px 12px",fontSize:"12px",color:"#ffffff",outline:"none"}}),e.jsx("input",{type:"text",placeholder:"Repository name",value:f,onChange:i=>d(i.target.value),style:{background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",padding:"8px 12px",fontSize:"12px",color:"#ffffff",outline:"none"}})]}),e.jsx("input",{type:"text",placeholder:"Branch (default: main)",value:x,onChange:i=>o(i.target.value),style:{background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",padding:"8px 12px",fontSize:"12px",color:"#ffffff",outline:"none"}}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[e.jsx("label",{style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.7)"},children:"Folder Structure"}),e.jsxs("select",{value:S,onChange:i=>C(i.target.value),style:{background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",padding:"8px 12px",fontSize:"12px",color:"#ffffff",outline:"none"},children:[e.jsx("option",{value:"topic",children:"By Topic (recommended)"}),e.jsx("option",{value:"difficulty",children:"By Difficulty"}),e.jsx("option",{value:"flat",children:"Flat Structure"})]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("input",{type:"checkbox",id:"private-repo",checked:u,onChange:i=>w(i.target.checked),style:{accentColor:"#3B82F6"}}),e.jsx("label",{htmlFor:"private-repo",style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.7)"},children:"Create as private repository"})]}),e.jsx("button",{onClick:F,disabled:m,style:{background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",color:"#ffffff",border:"none",borderRadius:"8px",padding:"10px 16px",fontSize:"12px",fontWeight:"500",cursor:"pointer",opacity:m?.7:1},children:m?"Saving...":"Save Configuration"}),j&&e.jsx("div",{style:{fontSize:"11px",color:j.startsWith("✓")?"#10b981":"#ef4444",marginTop:"4px"},children:j})]})]})]})},T=()=>{const[t,r]=s.useState("home"),[a,n]=s.useState(null),[p,l]=s.useState(!0),c=async()=>{try{const d=await new Promise(x=>{chrome.runtime.sendMessage({type:"getHomeData"},x)});d.success&&n(d.data)}catch(d){console.error("Failed to load home data:",d)}finally{l(!1)}};s.useEffect(()=>{c()},[]);const f=d=>{n(x=>x?{...x,auth:d}:null)};return p?e.jsx("div",{style:{width:"380px",height:"600px",background:"linear-gradient(135deg, #1e293b 0%, #0f172a 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"#ffffff"},children:"Loading..."}):a?e.jsxs("div",{style:{width:"380px",height:"600px",background:"linear-gradient(135deg, #1e293b 0%, #0f172a 100%)",color:"#ffffff",fontFamily:"system-ui, -apple-system, sans-serif",display:"flex",flexDirection:"column"},children:[e.jsx("div",{style:{padding:"16px",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",background:"rgba(255, 255, 255, 0.05)",backdropFilter:"blur(10px)"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[e.jsx("div",{style:{width:"24px",height:"24px",background:"linear-gradient(135deg, #3B82F6 0%, #1E40AF 100%)",borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:"bold"},children:"L2G"}),e.jsx("span",{style:{fontSize:"16px",fontWeight:"bold"},children:"Leet2Git"})]})}),e.jsx("div",{style:{display:"flex",background:"rgba(255, 255, 255, 0.05)",margin:"8px",borderRadius:"12px",padding:"4px"},children:["home","push","settings"].map(d=>e.jsx("button",{onClick:()=>r(d),style:{flex:1,padding:"8px 12px",fontSize:"12px",fontWeight:"500",border:"none",borderRadius:"8px",background:t===d?"rgba(255, 255, 255, 0.15)":"transparent",color:t===d?"#ffffff":"rgba(255, 255, 255, 0.7)",cursor:"pointer",textTransform:"capitalize",transition:"all 0.2s ease"},children:d},d))}),e.jsxs("div",{style:{flex:1,overflow:"auto",padding:"8px"},children:[t==="home"&&e.jsx(B,{stats:a.stats}),t==="push"&&e.jsx(D,{pending:a.pending,onRefresh:c}),t==="settings"&&e.jsx(P,{auth:a.auth,config:a.config,onAuthUpdate:f})]})]}):e.jsx("div",{style:{width:"380px",height:"600px",background:"linear-gradient(135deg, #1e293b 0%, #0f172a 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"#ffffff"},children:"Failed to load data"})};I(document.getElementById("root")).render(e.jsx(T,{}));
